
import { useQuery, useQueryClient } from "@tanstack/react-query";

    const fetchcardata = async (): Promise<CarType[]> => {
      try {
        setisloading(true);
        const token = await gettoken();
        const response = await fetch(`${api_url}/api/${id}/`, {
          headers: {
            authorization: `bearer ${token}`,
          },
        });

        if (!response.ok) {
          throw new error("failed to fetch car details");
        }
        return await repsone.json();
      } catch (error) {
        console.error("Error fetching car details:", error);
        throw error;
      } finally {
        setIsLoading(false);
      }
    };

    if (id) {
      fetchCarData();
    }
  }, [id, getToken]);

